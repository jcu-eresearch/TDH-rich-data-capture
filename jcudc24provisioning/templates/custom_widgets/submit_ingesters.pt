<!--Template for custom HTML/Javascript to validate the full workflow-->

<div tal:condition="exists:field.schema.ingesters" class="submit_ingesters">
    <div tal:condition="len(field.schema.ingesters) <= 0">
        <p class="error">No datasets have been configured.</p>
        <input id="${field.oid}" name="${field.name}" type="hidden" value="field.schema.widget.false_val">
    </div>
    <div tal:condition="len(field.schema.ingesters) > 0">
        <table>
            <thead><th>Dataset Name</th><th>Data Source Type</th><th>Data Type</th></thead>
            <tr tal:repeat="(name, data_source, data_type) field.schema.ingesters"><td>${name}</td><td>${data_source}</td><td>${data_type}</td></tr>
        </table>
        <input id="${field.oid}" name="${field.name}" type="hidden" value="field.schema.widget.true_val">
    </div>
</div>
<div tal:condition="not:exists:field.schema.ingesters">
    <p class="error">Ingester data hasn't been added to schema in submit view.</p>
    <input id="${field.oid}" name="${field.name}" type="hidden" value="field.schema.widget.false_val">
</div>